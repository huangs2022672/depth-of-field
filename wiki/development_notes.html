<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <main>
    <ul>
      <h2>backend - rails</h2>

      <h3>user migrations:</h3>
      <ol>db constraints as per schema doc</ol>

      <h3>user model validations:</h3>
      <ol>first_name, last_name: must be 2 to 20 chars</ol>
      <ol>age: must be 13 or older</ol>
      <ol>email: must be a vaild email with @ and .</ol>
      <ol>password: must be 6 or more chars (12 on flickr)</ol>
      
      <h4>ideas:</h4>
      <ol>acceptance: agreeing to term of service during signup</ol>
      <ol>confirmation: confirming email address or password in form</ol>

      <h3>figvaper: DONE</h3>
      <h3>celll: DONE</h3>

      <h3>users controller</h3>
      <ol>create: sign up</ol>
      <ol>show: other user's profiles</ol>
      <h3>sessions controller</h3>
      <ol>create: log in</ol>
      <ol>delete: log out</ol>

      <h3>users views: formatted json</h3>
      <ol>show: other users</ol>
      <h3>user: for current user</h3>


      <h2>frontend - redux</h2>
      <h4>entry file</h4>

      <h3>session slice</h3>
      <h4>session api util</h4>
      <ol>sign up: users#create</ol>
      <ol>log in: sessions#create</ol>
      <ol>log out: sessions#destroy</ol>

      <h4>session actions</h4>
      <ol>pojo action creators</ol>
      <ol>thunk action creators</ol>
      <ol>signup, login, logout</ol>

      <h4>session reducer</h4>
      <ol>when signup/login: set currentUserId: currentUser.id</ol>
      <ol>when logout: set currentUserId: null</ol>
      <ol>how to break out errors to errors reducer??</ol>

      <h3>users slice</h3>
      <ol>user api util</ol>
      <ol>user actions</ol>
      <ol>users reducer</ol>

      <h3>entities reducer</h3>
      <h3>session errors reducer</h3>
      <h3>errors reducer</h3>
      <h3>root reducer</h3>

      <h3>store</h3>
      <h3>entry file</h3>


      <h2>frontend - react</h2>
      <ol>app component</ol>
      <ol>root component</ol>
      <ol>entry file</ol>


      <p>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p>

      <h2>log in test</h2>
      <h3>log in sets currentUserId in sessions, but does not return the current user in entities.users</h3>
      <ol>user clicks log in: session form</ol>
      <ol>handleSubmit runs formAction: dispatch login with user params in login form container </ol>
      <ol>login(user) thunk action called from session actions</ol>
      <ol>login thunk action calls: api util login: apiutil</ol>
      <ol>api util log in posts to session#create action</ol>
      <ol>session#create, finds user/logs in</ol>
      <h2>what does it mean to log in user in the backend???</h2>
      <ol>session#create renders logged in user info back to front end </ol>
      <ol>session thunk action return promise from ajax request from login </ol>
      <ol>.then is called with returned user</ol>
      <ol>returned user is "received", mapped to an object with Type, then is dispatched to reducer</ol>
      <ol>reducer receives POJO of reeceive_current_user type</ol>
      <ol>ISSUE FOUND: users reducer receives and process actions from both new session thunk and new user thunk </ol>



    </ul>
  </main>
</body>
</html>